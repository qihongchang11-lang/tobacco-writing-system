# 中国烟草报风格改写系统完整开发计划

## 项目概述

**项目目标**：构建高质量的烟草报风格改写系统，显著提升稿件录用率

**技术架构**：Claude多Agent架构 + Streamlit Web界面 + 向量数据库

**现有基础**：6个Agent流水线系统已部署到Streamlit Cloud

## 核心需求定义

1. **准确识别烟草报各栏目特征** - 从基础7类体裁扩展到具体栏目识别
2. **智能转换文章风格至目标栏目** - 从硬编码规则升级为样本学习
3. **规范专业术语和表达方式** - 构建烟草行业术语库
4. **持续学习优化改写质量** - 建立反馈机制和质量评估体系

## 完整开发计划

### 第一轮：需求分析与基础建设

#### 阶段1.1：现有系统深度分析（2天）
**Day 1-2**：
- 逐一分析6个Agent的具体能力与局限性
- 测试现有系统处理效果，记录问题清单
- **产出**：《系统能力评估报告》+ 《功能缺口清单》

**关键任务**：
- GenreClassifierAgent能力评估（当前：7个基础体裁，关键词匹配）
- StyleRewriterAgent能力评估（当前：硬编码转换规则）
- StructureReorganizerAgent、FactCheckerAgent等其他Agent评估
- 端到端测试，记录质量问题

#### 阶段1.2：真实数据全量获取（2天）
**Day 3-4**：
- 爬取近几年烟草报全部文章（用户提供网站）
- 数据清洗：标题、正文、时间、URL等结构化
- 初步统计：文章数量、时间分布、长度分布等
- **产出**：《烟草报文章数据库》

**技术要点**：
- 使用BeautifulSoup + requests进行网页爬取
- 数据存储采用SQLite或JSON格式
- 实现增量爬取机制，支持后续数据更新

#### 阶段1.3：样本驱动的需求细化（1天）
**Day 5**：
- 基于真实样本分析栏目分类和特征
- 对比《功能缺口清单》，修正和完善需求
- 制定具体的改进目标和验收标准
- **产出**：《精准需求规格书》+ 《改进目标清单》

### 第二轮：核心问题针对性解决

#### 阶段2.1：开源技术调研与选型（1天）
**Day 6**：
- 基于《改进目标清单》寻找对应的开源方案
- 评估技术可行性和集成难度
- **产出**：《技术方案选型报告》

**调研重点**：
- 中文文本分类工具（HanLP、jieba、sklearn）
- 文本风格转换工具（Seq2seq模型、预训练模型）
- 语义相似度计算工具（sentence-transformers）

#### 阶段2.2：Agent核心升级（2-3天）
**Day 7-9**：
- **GenreClassifierAgent升级**：集成开源工具，基于样本训练栏目分类
- **StyleRewriterAgent重构**：样本学习替换硬编码，构建智能改写引擎
- 每完成一个Agent立即测试验证
- **产出**：升级后的核心Agent + 测试结果

**具体改进**：
- GenreClassifier：从7个基础类别扩展到烟草报具体栏目（预计15-20个）
- StyleRewriter：构建栏目专用的语言模型和转换规则
- 专业术语库：自动提取烟草行业术语和标准表达

#### 阶段2.3：质量验证与问题反馈（1天）
**Day 10**：
- 端到端测试整体效果
- 发现新问题 → 反馈到阶段1补充分析
- 质量不达标 → 回到阶段2继续优化
- **产出**：《系统测试报告》

### 第三轮：系统完善与部署

#### 阶段3.1：系统集成优化（1天）
**Day 11**：
- 将优化的Agent集成到主流水线
- 性能调优和稳定性测试
- **产出**：完整的优化系统

#### 阶段3.2：部署与交付（1天）
**Day 12**：
- 更新Streamlit Cloud部署
- 完善使用文档和操作指南
- 建立用户反馈收集机制
- **产出**：可用的线上系统

## 关键设计原则

### 1. 迭代反馈机制
```
阶段1产出 → 指导阶段2的技术选择
阶段2问题 → 反馈修正阶段1的需求
阶段3验证 → 可能触发前序阶段的重新执行
```

### 2. 缺口清单的具体应用路径
```
功能缺口清单 → 指导数据收集重点
           → 驱动技术选型方向  
           → 制定验收标准
           → 优化优先级排序
```

### 3. 数据驱动的开发流程
- 先获取全量真实样本数据
- 基于样本发现真实需求和问题
- 让数据指导技术方案的选择
- 用样本验证改进效果

### 4. 需求导向的技术选择
- 先明确要解决的具体问题
- 再针对性寻找技术解决方案
- 避免为了使用某技术而改变需求
- 开源工具优先，避免重复造轮子

## 质量评估体系

### 四维评估标准
1. **风格匹配度**：改写后文本与目标栏目样本的相似性（0-100分）
2. **信息保真度**：核心信息是否完整保留（0-100分）  
3. **语言流畅度**：句式是否自然、逻辑是否清晰（0-100分）
4. **专业规范度**：术语使用、格式是否符合标准（0-100分）

### 自动化评估机制
- 使用语义相似度模型计算风格匹配
- 关键信息抽取对比评估保真度
- 语言模型评估流畅度和规范度
- 专家样本对比验证整体质量

## 项目管理要点

### 适合新手开发者的特点
- 每个阶段都有明确的产出物
- 任务细化到天，便于进度控制
- 强调测试验证，及时发现问题
- 迭代反馈，允许回头完善

### 风险控制
- 每个阶段结束都有质量检查点
- 关键问题优先解决，次要功能可延后
- 保持现有系统可用，渐进式改进
- 用户反馈驱动持续优化

## 预期成果

**技术成果**：
- 基于真实数据训练的智能分类系统
- 样本学习驱动的风格转换引擎
- 烟草行业专业术语规范库
- 自动化质量评估和反馈机制

**业务价值**：
- 显著提升文章改写质量
- 提高烟草报稿件录用率
- 为记者和投稿者提供专业写作辅助
- 可扩展适配其他行业媒体

---

**总工期**：10-12天  
**项目状态**：规划完成，待开始实施  
**下一步**：开始阶段1.1 - 现有系统深度分析